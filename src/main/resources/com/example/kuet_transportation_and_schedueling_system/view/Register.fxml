<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.shape.*?>
<?import javafx.collections.FXCollections?>
<?import java.lang.String?>

<StackPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="com.example.kuet_transportation_and_schedueling_system.controller.RegisterController"
           stylesheets="@../styles.css">

    <VBox alignment="CENTER" spacing="0" style="-fx-background-color: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
        <padding>
            <Insets bottom="30.0" left="30.0" right="30.0" top="30.0"/>
        </padding>

        <!--Header-->
        <HBox alignment="CENTER_LEFT" maxWidth="550" minWidth="550">
            <Button text="â† Back to Login" onAction="#handleBackToLogin"
                    style="-fx-background-color: rgba(255,255,255,0.2); -fx-text-fill: white; -fx-background-radius: 20; -fx-padding: 8 15 8 15; -fx-cursor: hand;">
                <font>
                    <Font name="System Bold" size="12"/>
                </font>
            </Button>
            <VBox.margin>
                <Insets bottom="20"/>
            </VBox.margin>
        </HBox>

        <!-- Title -->
        <Label text="Create Account" styleClass="title-label" textAlignment="CENTER">
            <font>
                <Font name="System Bold" size="34.0"/>
            </font>
            <VBox.margin>
                <Insets bottom="5.0"/>
            </VBox.margin>
        </Label>

        <Label text="Join KUET Transportation System" styleClass="subtitle-label" textAlignment="CENTER">
            <font>
                <Font size="16.0"/>
            </font>
            <VBox.margin>
                <Insets bottom="30.0"/>
            </VBox.margin>
        </Label>

        <!--Registration Card-->
        <ScrollPane fitToWidth="true" style="-fx-background: transparent; -fx-background-color: transparent; -fx-border-color: transparent;" hbarPolicy="NEVER">
            <VBox spacing="18.0" alignment="CENTER" maxWidth="550.0" minWidth="550.0" styleClass="card">
                <padding>
                    <Insets bottom="35.0" left="40.0" right="40.0" top="35.0"/>
                </padding>

                <!-- Student Information Section -->
                <Label text="ðŸ“ Student Information" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #1976D2;">
                    <VBox.margin>
                        <Insets bottom="5"/>
                    </VBox.margin>
                </Label>

                <GridPane hgap="15" vgap="15">
                    <columnConstraints>
                        <ColumnConstraints percentWidth="50"/>
                        <ColumnConstraints percentWidth="50"/>
                    </columnConstraints>

                    <!--StudentID -->
                    <VBox spacing="8" GridPane.columnIndex="0" GridPane.rowIndex="0">
                        <Label text="STUDENT ID" styleClass="label-bold" style="-fx-font-size: 11px; -fx-text-fill: #757575;"/>
                        <TextField fx:id="studentIdField" promptText="e.g., 1801001" prefHeight="45">
                            <font><Font size="14.0"/></font>
                        </TextField>
                    </VBox>

                    <!--Department-->
                    <VBox spacing="8" GridPane.columnIndex="1" GridPane.rowIndex="0">
                        <Label text="DEPARTMENT" styleClass="label-bold" style="-fx-font-size: 11px; -fx-text-fill: #757575;"/>
                        <ComboBox fx:id="departmentCombo" promptText="Select department" prefHeight="45" maxWidth="Infinity">
                            <items>
                                <FXCollections fx:factory="observableArrayList">
                                    <String fx:value="CSE"/>
                                    <String fx:value="EEE"/>
                                    <String fx:value="ME"/>
                                    <String fx:value="CE"/>
                                    <String fx:value="IPE"/>
                                    <String fx:value="URP"/>
                                    <String fx:value="BECM"/>
                                    <String fx:value="Other"/>
                                </FXCollections>
                            </items>
                        </ComboBox>
                    </VBox>

                    <!--Full Name-->
                    <VBox spacing="8" GridPane.columnIndex="0" GridPane.rowIndex="1" GridPane.columnSpan="2">
                        <Label text="FULL NAME" styleClass="label-bold" style="-fx-font-size: 11px; -fx-text-fill: #757575;"/>
                        <TextField fx:id="nameField" promptText="Enter your full name" prefHeight="45">
                            <font><Font size="14.0"/></font>
                        </TextField>
                    </VBox>
                </GridPane>

                <!-- Separator -->
                <Separator>
                    <VBox.margin>
                        <Insets top="5" bottom="5"/>
                    </VBox.margin>
                </Separator>

                <!-- Account Credentials Section -->
                <Label text="ðŸ” Account Credentials" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #1976D2;">
                    <VBox.margin>
                        <Insets bottom="5"/>
                    </VBox.margin>
                </Label>

                <!-- Username -->
                <VBox spacing="8">
                    <Label text="USERNAME" styleClass="label-bold" style="-fx-font-size: 11px; -fx-text-fill: #757575;"/>
                    <TextField fx:id="usernameField" promptText="Choose a unique username" prefHeight="45">
                        <font><Font size="14.0"/></font>
                    </TextField>
                    <Label text="3-20 characters, letters and numbers only" style="-fx-text-fill: #9E9E9E; -fx-font-size: 11px;"/>
                </VBox>

                <!-- Password -->
                <VBox spacing="8">
                    <Label text="PASSWORD" styleClass="label-bold" style="-fx-font-size: 11px; -fx-text-fill: #757575;"/>
                    <PasswordField fx:id="passwordField" promptText="Create a strong password" prefHeight="45">
                        <font><Font size="14.0"/></font>
                    </PasswordField>
                    <Label text="Minimum 6 characters" style="-fx-text-fill: #9E9E9E; -fx-font-size: 11px;"/>
                </VBox>

                <!-- Confirm Password -->
                <VBox spacing="8">
                    <Label text="CONFIRM PASSWORD" styleClass="label-bold" style="-fx-font-size: 11px; -fx-text-fill: #757575;"/>
                    <PasswordField fx:id="confirmPasswordField" promptText="Re-enter your password" prefHeight="45">
                        <font><Font size="14.0"/></font>
                    </PasswordField>
                </VBox>

                <!-- Error Label -->
                <Label fx:id="errorLabel" wrapText="true" styleClass="error-label" visible="false"/>

                <!-- Register Button -->
                <Button fx:id="registerButton" text="CREATE ACCOUNT" onAction="#handleRegister" maxWidth="Infinity"
                        styleClass="button-success" prefHeight="50">
                    <font>
                        <Font name="System Bold" size="16.0"/>
                    </font>
                    <VBox.margin>
                        <Insets top="10.0"/>
                    </VBox.margin>
                </Button>

                <!-- Login Link -->
                <HBox alignment="CENTER" spacing="8">
                    <VBox.margin>
                        <Insets top="5"/>
                    </VBox.margin>
                    <Label text="Already have an account?" style="-fx-text-fill: #757575;"/>
                    <Hyperlink fx:id="loginLink" text="Sign In" onAction="#handleBackToLogin"
                              style="-fx-font-weight: bold; -fx-font-size: 14px;"/>
                </HBox>
            </VBox>
        </ScrollPane>
    </VBox>
</StackPane>


